<div class="chat_window">
  <div class="top_menu">
    <div class="title">Chat</div>
  </div>
  <ul #chatScroll class="messages"
      infiniteScroll
      [infiniteScrollUpDistance]="2"
      [infiniteScrollThrottle]="50"
      (scrolledUp)="onScrollUp()"
      [scrollWindow]="false">
    <button *ngIf="loading" class="btn btn-default btn-lg" style="width: 100%"><i class="fa fa-spinner fa-spin"></i> Loading...</button>
    <span *ngFor="let message of messages; let i = index">
      <li *ngIf="i > count" class="message"
          [ngClass]='{right: message.userId === userData.id, left: message.userId !== userData.id}'>
        <div  class="avatar"></div>
        <div class="text_wrapper">
          <div class="text">{{message.content}}</div>
        </div>
      </li>
    </span>
  </ul>
  <div class="bottom_wrapper">
    <div class="message_input_wrapper">
      <input [(ngModel)]="sendMessage.content" class="message_input" placeholder="Type your message here..." />
    </div>
    <div (click)="doSend()" class="send_message">
      <div class="icon"></div>
      <div class="text">Send</div>
    </div>
  </div>
</div>
